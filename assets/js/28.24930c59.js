(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{380:function(t,s,a){t.exports=a.p+"assets/img/ch4-04.c2977409.png"},381:function(t,s,a){t.exports=a.p+"assets/img/ch4-05.9c1670c1.png"},382:function(t,s){t.exports="data:image/png;base64,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"},746:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_4-6-文本和html模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-文本和html模板"}},[t._v("#")]),t._v(" 4.6. 文本和HTML模板")]),t._v(" "),s("p",[t._v("前面的例子，只是最简单的格式化，使用Printf是完全足够的。但是有时候会需要复杂的打印格式，这时候一般需要将格式化代码分离出来以便更安全地修改。这些功能是由text/template和html/template等模板包提供的，它们提供了一个将变量值填充到一个文本或HTML格式的模板的机制。")]),t._v(" "),s("p",[t._v("一个模板是一个字符串或一个文件，里面包含了一个或多个由双花括号包含的"),s("code",[t._v("{{")]),t._v("action"),s("code",[t._v("}}")]),t._v("对象。大部分的字符串只是按字面值打印，但是对于actions部分将触发其它的行为。每个actions都包含了一个用模板语言书写的表达式，一个action虽然简短但是可以输出复杂的打印值，模板语言包含通过选择结构体的成员、调用函数或方法、表达式控制流if-else语句和range循环语句，还有其它实例化模板等诸多特性。下面是一个简单的模板字符串：")]),t._v(" "),s("p",[s("u",[s("i",[t._v("gopl.io/ch4/issuesreport")])])]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`{{.TotalCount}} issues:\n{{range .Items}}----------------------------------------\nNumber: {{.Number}}\nUser:   {{.User.Login}}\nTitle:  {{.Title | printf "%.64s"}}\nAge:    {{.CreatedAt | daysAgo}} days\n{{end}}`')]),t._v("\n")])])]),s("p",[t._v("这个模板先打印匹配到的issue总数，然后打印每个issue的编号、创建用户、标题还有存在的时间。对于每一个action，都有一个当前值的概念，对应点操作符，写作“.”。当前值“.”最初被初始化为调用模板时的参数，在当前例子中对应github.IssuesSearchResult类型的变量。模板中"),s("code",[t._v("{{")]),t._v(".TotalCount"),s("code",[t._v("}}")]),t._v("对应action将展开为结构体中TotalCount成员以默认的方式打印的值。模板中"),s("code",[t._v("{{")]),t._v("range .Items"),s("code",[t._v("}}")]),t._v("和"),s("code",[t._v("{{")]),t._v("end"),s("code",[t._v("}}")]),t._v("对应一个循环action，因此它们之间的内容可能会被展开多次，循环每次迭代的当前值对应当前的Items元素的值。")]),t._v(" "),s("p",[t._v("在一个action中，"),s("code",[t._v("|")]),t._v("操作符表示将前一个表达式的结果作为后一个函数的输入，类似于UNIX中管道的概念。在Title这一行的action中，第二个操作是一个printf函数，是一个基于fmt.Sprintf实现的内置函数，所有模板都可以直接使用。对于Age部分，第二个动作是一个叫daysAgo的函数，通过time.Since函数将CreatedAt成员转换为过去的时间长度：")]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("daysAgo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Since")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Hours")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("需要注意的是CreatedAt的参数类型是time.Time，并不是字符串。以同样的方式，我们可以通过定义一些方法来控制字符串的格式化（§2.5），一个类型同样可以定制自己的JSON编码和解码行为。time.Time类型对应的JSON值是一个标准时间格式的字符串。")]),t._v(" "),s("p",[t._v("生成模板的输出需要两个处理步骤。第一步是要分析模板并转为内部表示，然后基于指定的输入执行模板。分析模板部分一般只需要执行一次。下面的代码创建并分析上面定义的模板templ。注意方法调用链的顺序：template.New先创建并返回一个模板；Funcs方法将daysAgo等自定义函数注册到模板中，并返回模板；最后调用Parse函数分析模板。")]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("report"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"report"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Funcs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FuncMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"daysAgo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" daysAgo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("templ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tlog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Fatal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("因为模板通常在编译时就测试好了，如果模板解析失败将是一个致命的错误。template.Must辅助函数可以简化这个致命错误的处理：它接受一个模板和一个error类型的参数，检测error是否为nil（如果不是nil则发出panic异常），然后返回传入的模板。我们将在5.9节再讨论这个话题。")]),t._v(" "),s("p",[t._v("一旦模板已经创建、注册了daysAgo函数、并通过分析和检测，我们就可以使用github.IssuesSearchResult作为输入源、os.Stdout作为输出源来执行模板：")]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" report "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Must")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"issuelist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Funcs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FuncMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"daysAgo"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" daysAgo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("templ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tresult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SearchIssues")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tlog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Fatal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" report"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tlog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Fatal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("程序输出一个纯文本报告：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ go build gopl.io/ch4/issuesreport\n$ ./issuesreport repo:golang/go is:open json decoder\n13 issues:\n----------------------------------------\nNumber: 5680\nUser:      eaigner\nTitle:     encoding/json: set key converter on en/decoder\nAge:       750 days\n----------------------------------------\nNumber: 6050\nUser:      gopherbot\nTitle:     encoding/json: provide tokenizer\nAge:       695 days\n----------------------------------------\n...\n")])])]),s("p",[t._v("现在让我们转到html/template模板包。它使用和text/template包相同的API和模板语言，但是增加了一个将字符串自动转义特性，这可以避免输入字符串和HTML、JavaScript、CSS或URL语法产生冲突的问题。这个特性还可以避免一些长期存在的安全问题，比如通过生成HTML注入攻击，通过构造一个含有恶意代码的问题标题，这些都可能让模板输出错误的输出，从而让他们控制页面。")]),t._v(" "),s("p",[t._v("下面的模板以HTML格式输出issue列表。注意import语句的不同：")]),t._v(" "),s("p",[s("u",[s("i",[t._v("gopl.io/ch4/issueshtml")])])]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"html/template"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" issueList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Must")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"issuelist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n<h1>{{.TotalCount}} issues</h1>\n<table>\n<tr style='text-align: left'>\n  <th>#</th>\n  <th>State</th>\n  <th>User</th>\n  <th>Title</th>\n</tr>\n{{range .Items}}\n<tr>\n  <td><a href='{{.HTMLURL}}'>{{.Number}}</a></td>\n  <td>{{.State}}</td>\n  <td><a href='{{.User.HTMLURL}}'>{{.User.Login}}</a></td>\n  <td><a href='{{.HTMLURL}}'>{{.Title}}</a></td>\n</tr>\n{{end}}\n</table>\n`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("下面的命令将在新的模板上执行一个稍微不同的查询：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ go build gopl.io/ch4/issueshtml\n$ ./issueshtml repo:golang/go commenter:gopherbot json encoder >issues.html\n")])])]),s("p",[t._v("图4.4显示了在web浏览器中的效果图。每个issue包含到Github对应页面的链接。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(380),alt:""}})]),t._v(" "),s("p",[t._v("图4.4中issue没有包含会对HTML格式产生冲突的特殊字符，但是我们马上将看到标题中含有"),s("code",[t._v("&")]),t._v("和"),s("code",[t._v("<")]),t._v("字符的issue。下面的命令选择了两个这样的issue：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ ./issueshtml repo:golang/go 3133 10535 >issues2.html\n")])])]),s("p",[t._v("图4.5显示了该查询的结果。注意，html/template包已经自动将特殊字符转义，因此我们依然可以看到正确的字面值。如果我们使用text/template包的话，这2个issue将会产生错误，其中“&lt;”四个字符将会被当作小于字符“<”处理，同时“<link>”字符串将会被当作一个链接元素处理，它们都会导致HTML文档结构的改变，从而导致有未知的风险。")]),t._v(" "),s("p",[t._v("我们也可以通过对信任的HTML字符串使用template.HTML类型来抑制这种自动转义的行为。还有很多采用类型命名的字符串类型分别对应信任的JavaScript、CSS和URL。下面的程序演示了两个使用不同类型的相同字符串产生的不同结果：A是一个普通字符串，B是一个信任的template.HTML字符串类型。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(381),alt:""}})]),t._v(" "),s("p",[s("u",[s("i",[t._v("gopl.io/ch4/autoescape")])])]),t._v(" "),s("div",{staticClass:"language-Go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`<p>A: {{.A}}</p><p>B: {{.B}}</p>`")]),t._v("\n\tt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Must")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"escape"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("templ"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tA "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// untrusted plain text")]),t._v("\n\t\tB template"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HTML "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// trusted HTML")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\tdata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("A "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<b>Hello!</b>"')]),t._v("\n\tdata"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("B "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<b>Hello!</b>"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("os"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tlog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Fatal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("图4.6显示了出现在浏览器中的模板输出。我们看到A的黑体标记被转义失效了，但是B没有。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(382),alt:""}})]),t._v(" "),s("p",[t._v("我们这里只讲述了模板系统中最基本的特性。一如既往，如果想了解更多的信息，请自己查看包文档：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ go doc text/template\n$ go doc html/template\n")])])]),s("p",[s("strong",[t._v("练习 4.14：")]),t._v(" 创建一个web服务器，查询一次GitHub，然后生成BUG报告、里程碑和对应的用户信息。")])])}),[],!1,null,null,null);s.default=e.exports}}]);