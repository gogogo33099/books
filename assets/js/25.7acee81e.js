(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{342:function(t,s,a){t.exports=a.p+"assets/img/ch6-snowflake.d7b2baf6.png"},343:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlkAAAA9CAYAAACeAnwiAAAVxklEQVR4Xu2dA7AkSReF76xt27Yj1rZt2zZmbdu2bdu2bVvvjy//yBe1NV3d1cp6mXMyYmJ23quqzDrn4uS92b39zKzHNISAEBACQkAICAEhIAQ6ikA/RFZPj3RWR1Gt8bB+/foBdLen0fOFgBBICAHFjYTIVF5Im8wCfiWyAtGuYBkIaE0jBBJCQHEjITIlstImUyKrWn4VLKvFX7MLgRgRUNyIkbXyaxa/5bGK8Ur4VSUrEHNypkBAaxohkBACihsJkalKVtpkqpJVLb8KltXir9mFQIwIKG7EyFr5NYvf8ljFeKUqWQFZkzMFBFtTCYFEEFDcSITIgtcQv+nzq3ZhII7lTIGA1jRCICEEFDcSIlPtwrTJVLuwWn4VLKvFX7MLgRgRUNyIkbXyaxa/5bGK8Uq1CwOyJmcKCLamEgKJIKC4kQiRahemTWQdftUuDES9gmUgoDWNEEgIAcWNhMhUuzBtMtUurJZfBctq8dfsQiBGBBQ3YmSt/JrFb3msYrxS7cKArMmZAoKtqYRAIggobiRCpNqFaROpdmH1/CpYVs+BViAEYkNAcSM2xppbr/htDq/YrlYlKyBjcqaAYGsqIZAIAoobiRCpSlbaRKqSVT2/CpbVc6AVCIHYEFDciI2x5tYrfpvDK7arVckKyJicKSDYmkoIJIKA4kYiRKqSlTaRqmRVz6+CZfUcaAVCIDYEFDdiY6y59Yrf5vCK7WpVsgIyJmcKCLamEgKJIKC4kQiRqmSlTaQqWdXzq2BZPQdagRCIDQHFjdgYa2694rc5vGK7WpWsgIzJmQKCramEQCIIKG4kQqQqWWkTqUpW9fwqWFbPgVYgBGJDQHEjNsaaW6/4bQ6v2K5WJSsgY3KmgGBrKiGQCAKKG4kQqUpW2kSqklU9vwqW1XOgFQiB2BBQ3IiNsebWK36bwyu2q1XJCsiYnCkg2JpKCCSCgOJGIkSqkpU2kapkdZ7ff//91/gz2GCDlXq4gmUpmHSREBACGQQUN1ozhz///NOGGGKI1m4OeFeM/H788cc2xhhjRIFvQCprTtVWJev777+31Vdf3e64446aD7/oootso402shFGGMF6enrsr7/+splmmsnOPvtsm3LKKe2www6zDz74wE4//XS75pprbNZZZ7WJJppogGexyBdffNGmn3763t9xz4UXXmiPPvpoZRhecMEFdvfddxvvWWbE6Exl3qsvX7PffvvZqKOOattvv/1/lnnqqafasMMOa+uvv37N5U866aT21Vdf2eCDD24E65FGGsk23XRT43mMIYcc0tnumGOOaSeffLJtscUW7lo/br75ZltppZXcP/NifMUVVzR8Z8MNN7Q11lija/B99NFHzj/wUY14EQgVN2rF8x9//NGOO+44e+yxx2yaaaaxffbZx0YZZZQBwGzXX3jgVVddZauttppdfvnl/7HZTTbZxCaYYIJe3yvDJL45zzzzGD5Qb2y33Xb2+++/25lnnmm33367LbXUUjbMMMO4W/DnWWaZxY455hiXt7o1yvJbi59vv/3W9t9/f3vppZfc+6699to29dRTd4UfHkrcPOussxxmX3zxhc0999x2/PHHG/ynMmaYYQbbY489bK211rK55prLnnvuOWcL//zzj7NDbBTMmymu9DNDA/WUxuiPP/5wwuKKK65wIqPoXq457bTTeoUQImvZZZd1CeqGG25wiebvv/+20UYbzeadd17bfffdbZlllhlgHRJZpanRhRkE7rrrLltuueVs2223tSOPPNL95tlnn7Ubb7zRjjrqKNttt92cs9QaBA1sd7HFFnO/fuCBB2yhhRayp59+2maeeWZ7//33bfzxx3e/w9l++uknG2644Wo+64wzzjAEeXZD8Pnnn9vwww/vhF63xj333ON8ijVrxItA2STc6hvWi+drrrmmff3113bQQQfZbbfd5v48+eSTNZN4u/6CyGIjg1+89tprvf4UUmQxvxdmP//8s1166aW288472wsvvGCTTDJJqxDXva8Rv/X4mW+++Vz+JJYR2/bcc0/79NNPB4grnYhnPH/BBRe0V1991cYdd1xD4DHf22+/bcSaVEZeZGETG2+8sdM5b7zxhiscUfAhrpcZLVWy2N2QnH744Qc777zzSossFsR9zz//vBNZiDCSzW+//eaS4FhjjWXnnnuuYTjZ0UhksQYCwSuvvGIkVpLgJZdcYiOOOKKrjmEAVCIY/Puhhx5yuxV2aOecc4798ssvtvXWW9suu+zirqFqRmJ+9913beGFF7YTTzzRVeMYVN9ImBNOOKGb55NPPlElq4ylBb6GALDkkku6nSjcHXHEEW4FV155pduVU32lwlNWZGHr7GLuv/9+x/sCCyxg1157rW2wwQZ20003uZ3uI4880rsLzr5uLZG144472tJLL+1K7tgUjo0t8px9993X2GEj5PibIF/PLkkGe++9t1sPdn7ssce657FxwT6pnF188cUuQYIDdo2PsQMlQOM/JBZ+/uCDD7rqGrtiAjdVuJNOOqnXD9jN4T9gyK6fKt7QQw8dmN2Ba7pGSbhdNIri+TfffGNjjz228TfChw0xXD/11FMDVHbySbwVf0FkEZOJrfia99msyMJG+TcbByo2p5xyis0222wOAqrHBxxwgIEXFR0qUF4wURA49NBDXa5Zb731nL9wXb6SlRVZHlcq0myoTjjhhHahrnl/I36L+CFvUaX/7rvven1wqqmmcu/pq+h+wk7wQ7dpm222cXHC+zz5+84773SYMopwRoghVBCA/E38gDuqYeR+7mPAK3GJeFXveVSY4JDK6q+//uri+DrrrOPuueWWW1zMBB9iH3bEeuvl9SwxRSLLX8Nz0BHEVuJ3o9GSyPIPJQlMPPHEdUVW//79HRCMDz/80LUGEVeIF98uZJdEQtx8882dc/hyrZ+nkcjiOQceeKB7No5HGwa1CdDciwDDGBn8m6oDPeVVV13VlYgxGkqDiDGEHgaJQsdQMdgvv/zSrr/+eufEW221lQsEtJAQYqxb7cJGZhb+95R0EUCIBnYgPmD7lfA7bLeeyMJBp5tuOheYEVIIDN8a9+1CfscOl50uuxvsKz9qiazFF1/c2SkJBTFE8MIGsVsSA8KHOaj8krB4hyK75PlUyY4++mi3yUAcvffee67tQgBDXLHzZH2HH364zTHHHLbTTju598f3vP8gmMYbbzwXmKaYYgoXBPEP7if4cQ/VCpIhv6fVSsAk6Wl0D4FGSbhTM+fj+RNPPOE4fv3113unmGyyyVxMxL+yA9ts11+8yOJvbBWbRjR4kUUe4ef4DT8j6bMhobpAlwRfwp9nn31222GHHVzc9y1z1kZ+oOW57rrrOl/jmjIiC7/CB7pVrSnLb54f3plE74/YIGDggXyGOO40P+RB8B9nnHFc7iSHg/UggwzipoKvIpyJcWwgiXPEpPPPP9/efPNNl4f5Ge1OBptYih3Em3rPIzbyTGIW9kJnAjFKm3jaaae1yy67zLBV4ukKK6xgW265ZWH8zPtPI5HF9XQtsAnW0Gh0XWSxY1900UXdOlDclBzpdxKws2ey2mkX8hwCAkKIQRDAIOmzF4ksSt6UwkmakA/ZVDyodNBz5nkMHBWjYu20XlCu/lwOBGLoElmNzCzs7zmrRxubv7G1VkUWu2lEN+KKRDPooIO6ViO7Wi+yRh999JbahVmRRUWIagHBiqBPoKDSy0D0MCd+U2SXCEiqS+z+EFMkHQIMAcu3C9ntPfPMMy4osEHARx5//HEnovAfdpbMwyDIkMjwXXagVAMJYPgsO1daKAyCDGuigqbRPQTKJuF2V5BP4lQXqAZl24O0i6haYB/5JN6uv3iRRXJlM4CoYdPgRdYiiyxi+A3HTPBFBptq7B+b5rzQvffe636O71PpQGRR4cAv/EYLccZ7MU8ZkUV3hT8PP/xwuxDXvL8sv/WKGsQHKvPgg/DID8RXu/zwzM8++8x1csCQs0oIW4oOHMsowpk4QRwjlxI32TRScSe21BNZ9XjjOeRocjfVdgoziEs2p1RavRZArIEbNlMUP/NHNsqILLDEJrDJRqPrIit7JovFvPXWWy5oUyak/OoPvtcTWRwupoqEavaDezknQ4AnSUAWO28G7T2ARvxkRRblbg6w+fMzu+66q+urkijZsbFT2muvvdz92fM1tJ4gkKoVv0PBMxBxJDeJrEZmFu737LZmnHFGxwkHdGl14YQEXKovfpSpZGXPmHAfTj/55JO73XInRRbVIM45MLBJbBQRxGCXSrK77rrrCu2SzQH2e+utt7rWCYf8afllz2QhNCnDY+8EOTYO2L0XWSQjkhQDPzvkkEPceTQCFImMih0ii7YR1WkGwpO2I5hrdA+Bskm43RXkkzjVW6o977zzTu+jqYIiUPI7+Hw7qhV/yYosRBNVZOyQjTBJjTlIlGwe/OAML9UTRAb+TmWWQZWEOI1d01rijBc+y2DTNPLII7skX0ZkYe/YuM8v7eKcv78sv0Uii/wHJ1SI2PjXGp3gJ/9cBBcdJAQtm0SOUNTCmeMLCFyOU/hBsYKNXV5ksTlmY4w4qscbXHIvMYwB9+R8xDlHIMAkO3hmUV7HtrKjkcji0D/2Q2fOz1/PJoKLLIQOZ6UAmN5pGZEFebQR6Zf7QfkPYHFCAKVUSkJl5EUWDgIYCCWMjV05iZdkxo6I3Q/OhpGSOLJVMZ7Hsym/otZXXnll14ZikBDZ2UtkdTrstP48+KMV4AfcITAQyJSo/WhFZCF8cH6EfSdF1mabbdZbLi8SWdhokV3yKUh8AbumAobIIslwRtFXsmib0uIh0OEDBEZK6uwy8/5TT2SBH0GTQVIkqXFGQaN7CJRNwu2uIJ/E4RXRTlKhyoofEQexK3/8ws9ZK4k36y9ZkcVz2TRwhITzgQh94u8qq6zixJEfbHqweeyYlpP3cXILn/hFZFHdwf8RjAwEHL5CMm4ksnhnNm34FJuhboyy/NYSWeQsqjZXX3212zgVjU7ww7llzjbRPvWDggVVKarn/L4WzlQMKWD4OAH+VJ64B6HEERxsikF1CDFL1b0eb8RfYru3Qy+ysAXm8XZAUYccTRWyKH7mj3g0EllU8bClRp9c9Rh1XWRRurzvvvvcfCyK3ik7E1QgqtOLLIQUYOd7/dzH+SgO1/Ecdu2ASNmasiU7mXoii0oAc9JDPvjgg10PHwejOkDC4bAxAYTWIaU/+rmQi8OicGmNcJiSpEXligRLS5E24fzzz+8OQUtkdSP0dOaZ8I1Tt3ImizI4NsHOl1aaP2hJ+8KLLHZkiHV2dUWHIBudySojsgj2RXZJhY1PPrKLZRNDQKWK5QMYVTJsl+CA73HN8ssv797LV7Kym5R6IouKMh9cYXPCxod39hWwzjCmp+QRKJuE20WuVhLnvCGVWyqlJD82sCTH/MDm2vWXvMhiDoQVNkqS5pgGrXriLfkCu6baip37yhVVLlpY+AL5gpxDnkF0IcSGGmooJ5iICVTF8iIL3+ZZDKoznG9k44ZQ6NYHPMrym+cHgYPoZeOXrcbw3WD5rxfoBD/kTM45s2Hzn7QkP1LwACvEVy2cyZ98ZRPHE6hOcg+xA7FMHOFnL7/8snuHJZZYwj0LkVWPtyKRRUyjgomookXJmVZsgf8uip95W86LLGyfP+R8nsuZPnwBzVBmdF1k+U8dsBhacIgShBcvkj2TxX9DEoocAZUdvBztD5wN5QoJlP9IoIx6IguBxbUYBY6JQMIpqWTRtoQUDBXDZOdEfxaH5j4Mk08ocNaF8jjzknRxXBIrnw7zH68tC3YzX5VR5pm6pj4C7YgsKp8MnASxToWM1gGBwYsszmxxpgrhwa6p1lcydEJkzTnnnIV2SQIgONEOJXlgqwQBzhESwPgkDBsSyu/4IDZNJY+kiPgiWZUVWZTksX/8hp0zPpOvasgmO4tA2STc7qy1RBaJkeoE1Qo+xYpIJ27WElnt+kstkUWrko0vG23EHptikjrVJTbqVFVJ2AySH0IAu8QnaXdiq5xH5ENM2C4VFJI5Gw58Ny+yeFc/OKbCeWKqtbW+v7FdvP39ZfnN88NGqtaZIDDKtw39gfh24xnnNIlnVBCJI9gF3SQETD2ciT9sdBG5dLJo7/KHdSGkOXsHxhQu4AmRVe95RSKL52EfVLLI6+gMuCZmF+X1RiLLn8/mGbTLsTPmKDvaElllJyl7HRUmkoD/tEL+PkjF0FDFZb8IjGfwXIb/Ggb/XBISuxZaiThUdnBIj09uUKbOfmsw4ox7UMZF34tU9L5lnaksXrqu7yDAwUr/NSHdXFWRXWLjJCR8I/vpXMQQwYqzVAyuYaeP/3APtk3gKzM4k8U7srunRem/J6zMvbqmdQSqjhtscrEbRHxRbG727drxF/8pMj7cka8ukR/4WT6esz5+R+uTTyz2pVE1v7WwqMcPmzfsAUHD2aT8KMKZWEROReSScxHw/ktMOaNNyy/7hc7+ua3wxjlqRBGCrkxe76Y99CmR1c0X7QvP7ovO1Bdw0RriQMCLLP/p2jhWHf8qFTfi57DeGwyM/OZFVsoMS2QFZHdgdKaA8GqqLiNAq4iqFyV9jXAIKG6Ew7qKmQZGfjmwzwfZalXCquCgm3NKZHUT3dyzB0ZnCgivphICSSKguJEkrb0vJX7T57fp/3dh2pB07+3kTN3DVk8WAqkioLiRKrP/fy/xmz6/ElmBOJYzBQJa0wiBhBBQ3EiIzBqvIn7T51ciKxDHcqZAQGsaIZAQAoobCZEpkZU2mQX8SmQFol3BMhDQmkYIJISA4kZCZEpkpU2mRFa1/CpYVou/ZhcCMSKguBEja+XXLH7LYxXjlfp0YUDW5EwBwdZUQiARBBQ3EiGy4DXEb/r8ql0YiGM5UyCgNY0QSAgBxY2EyFS7MG0y1S6sll8Fy2rx1+xCIEYEFDdiZK38msVveaxivFLtwoCsyZkCgq2phEAiCChuJEKk2oVpE1mHX7ULA1GvYBkIaE0jBBJCQHEjITLVLkybTLULq+VXwbJa/DW7EIgRAcWNGFkrv2bxWx6rGK9UuzAga3KmgGBrKiGQCAKKG4kQqXZh2kSqXVg9vwqW1XOgFQiB2BBQ3IiNsebWK36bwyu2q1XJCsiYnCkg2JpKCCSCgOJGIkSqkpU2kapkVc+vgmX1HGgFQiA2BBQ3YmOsufWK3+bwiu1qVbICMiZnCgi2phICiSCguJEIkapkpU2kKlnV86tgWT0HWoEQiA0BxY3YGGtuveK3Obxiu1qVrICMyZkCgq2phEAiCChuJEKkKllpE6lKVvX8KlhWz4FWIARiQ0BxIzbGmluv+G0Or9iuViUrIGNypoBgayohkAgCihuJEKlKVtpEqpJVPb8KltVzoBUIgdgQUNyIjbHm1it+m8Mrtqt7K1mxLVzrFQJCQAgIASEgBIRAX0fgfwWDTvEgRu/oAAAAAElFTkSuQmCC"},344:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAncAAAA9CAYAAADPlk9BAAAV7klEQVR4Xu2dBZAcNxOF5TAnFWbGCjnMzMycOA4zM8dhZmZmZnCYmZmZmdGpT1W6Gs/N7M7tznadlKeq1P/H3pU0/bpfv25pNn2cc4OchiwgC8gCsoAsIAvIArJAEhbog7gbNEj6rtNo9unTB0N3ehnNLwvIAglZQLwRJ5jCLU7cUtk1/idxZ4Smgt3I0FpGFkjIAuKNOMEUbnHilsquJe4MkVSwGxpbS8kCiVhAvBEnkMItTtxS2bXEnSGSCnZDY2spWSARC4g34gRSuMWJWyq7lrgzRFLBbmhsLSULJGIB8UacQAq3OHFLZdcSd4ZIKtgNja2lZIFELCDeiBNI4RYnbqnsWuLOEEkFu6GxtZQskIgFxBtxAinc4sQtlV1L3BkiqWA3NLaWkgUSsYB4I04ghVucuKWya4k7QyQV7IbG1lKyQCIWEG/ECaRwixO3VHYtcWeIpILd0NhaShZIxALijTiBFG5x4pbKriXuDJFUsBsaW0vJAolYQLwRJ5DCLU7cUtm1xJ0hkgp2Q2NrKVkgEQuIN+IEUrjFiVsqu5a4M0RSwW5obC0lCyRiAfFGnEAKtzhxS2XXEneGSCrYDY2tpWSBRCwg3ogTSOEWJ26p7FrizhBJBbuhsbWULJCIBcQbcQIp3OLELZVdS9wZIqlgNzS2lpIFErGAeCNOIIVbnLilsmuJO0MkFeyGxtZSskAiFhBvxAmkcIsTt1R2LXFniKSC3dDYWkoWSMQC4o04gRRuceKWyq4l7gyRVLAbGltLyQKJWEC8ESeQwi1O3FLZtcSdIZIKdkNjaylZIBELiDfiBFK4xYlbKruWuDNEUsFuaGwtJQskYgHxRpxACrc4cUtl1xJ3hkgq2A2NraVkgUQsIN6IE0jhFiduqexa4s4QSQW7obG1lCyQiAXEG3ECKdzixC2VXUvcGSKpYDc0tpaSBRKxgHgjTiCFW5y4pbJribs2kPz3338d/ww11FCVZlGwVzKTPiQLyAIZC/RW3vj222/dkEMO6UYddVThVWCB3opbimD9+eefbphhhknx0Vp+prbE3ffff+/WWmstd+eddxZu4OKLL3Ybb7yxG2WUUdygQYPcX3/95fr27evOOeccN80007jDDz/cffDBB+6MM85w1157rZttttncpJNO2m0uNvniiy+6GWecsevv+M5FF13kHn300ZYfvt0vXnjhhW7gwIGO56wyFOxVrNT+Z3799Vd3wAEHuOeee877zJprrunmmWceP/H777/vDjroIO93c8wxh9tzzz3daKON1m3RKaaYwn311Vdu6KGHdhAHn9lss83c/vvv7z877LDD+jnGGWccd8opp7gtt9zSfzaMW265xa266qr+X/NFwCqrrOKInY022sitvfba7T9wyQwfffSRjw9iVCNeC1Thjdtvv91deeWV7vfff3errbaaW2ONNbo9cF18fO+997pDDz3Uffjhh+67775z0047rdtnn33cMsssE6+RczvffvvtvS3POussd8cdd7hll13WjTDCCP5TxPmss87qjj32WJ/PykYV3CwNVpSv4aaTTjrJ3Xbbbf65dtppJ7f44ovXzodMiP/169fPHXHEEW6PPfboWuOff/5x4403nhtuuOG8T7Uy4ONPP/3UjTHGGIN9/bHHHvM8+/rrr7cybbfv1OEXtWykwiQtibs//vjDAwWZIG4QbkWDz5x++uldAgxxt8IKK/jEeOONN/oE9/fff7sxxxzTLbDAAh7w5ZdfvttUEncVkNRHuiywwQYbeN/afffd3Xvvved22WUXL8Qg5znnnNMttthiPvmdd955Pujx4fxA3OG7Sy65pP+rBx54wC266KLu6aefdrPMMosXiRNNNJH/Ozq3P/30kxtppJEKUTjzzDMdhUC2EPn888/dyCOP7EYcccSOIXfPPff4mGLPGvFaoJlIeP755x0FA/5Mst58883daaed5pZaaqnBHroOPiYRjzXWWN6f4XIKH4rsHXbYwdHJg9tTGPkkTmFHscT4+eef3WWXXeZ55YUXXnCTTz554SM3w83KTo3yNQ0WCoOjjjrKvfPOO17cIbAQWtlRBx/if9hskkkmcU899VTX9Pfff78vwDsh7nh2ivQJJ5ywFnPX4Re1bKTCJC2Jux9//NF3Rn744Qd3/vnnVxZ37IfvQUaIO8Amyf3222/eucYdd1xPUAsuuOBgW28m7tjD119/7V555RV39913++R76aWX+uMCuoEkudCd4d8feughn+iPP/54d+6557pffvnFbbPNNm7XXXf169Il3G677dy7777rhQCVDd1HBsEAseGgrPPJJ5+oc1fB0Sw/AsbXXXedx4hkN/HEE7sr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"},667:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_6-1-分布式-id-生成器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-分布式-id-生成器"}},[t._v("#")]),t._v(" 6.1 分布式 id 生成器")]),t._v(" "),s("p",[t._v("有时我们需要能够生成类似 MySQL 自增 ID 这样不断增大，同时又不会重复的 id。以支持业务中的高并发场景。比较典型的，电商促销时，短时间内会有大量的订单涌入到系统，比如每秒 10w+。明星出轨时，会有大量热情的粉丝发微博以表心意，同样会在短时间内产生大量的消息。")]),t._v(" "),s("p",[t._v("在插入数据库之前，我们需要给这些消息、订单先打上一个 ID，然后再插入到我们的数据库。对这个 id 的要求是希望其中能带有一些时间信息，这样即使我们后端的系统对消息进行了分库分表，也能够以时间顺序对这些消息进行排序。")]),t._v(" "),s("p",[t._v("Twitter 的 snowflake 算法是这种场景下的一个典型解法。先来看看 snowflake 是怎么一回事，见 "),s("em",[t._v("图 6-1")]),t._v("：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(342),alt:"snowflake"}})]),t._v(" "),s("p",[s("em",[t._v("图 6-1 snowflake 中的比特位分布")])]),t._v(" "),s("p",[t._v("首先确定我们的数值是 64 位，int64 类型，被划分为四部分，不含开头的第一个 bit，因为这个 bit 是符号位。用 41 位来表示收到请求时的时间戳，单位为毫秒，然后五位来表示数据中心的 id，然后再五位来表示机器的实例 id，最后是 12 位的循环自增 id（到达 1111,1111,1111 后会归 0）。")]),t._v(" "),s("p",[t._v("这样的机制可以支持我们在同一台机器上，同一毫秒内产生 "),s("code",[t._v("2 ^ 12 = 4096")]),t._v(" 条消息。一秒共 409.6 万条消息。从值域上来讲完全够用了。")]),t._v(" "),s("p",[t._v("数据中心加上实例 id 共有 10 位，可以支持我们每数据中心部署 32 台机器，所有数据中心共 1024 台实例。")]),t._v(" "),s("p",[t._v("表示 "),s("code",[t._v("timestamp")]),t._v(" 的 41 位，可以支持我们使用 69 年。当然，我们的时间毫秒计数不会真的从 1970 年开始记，那样我们的系统跑到 "),s("code",[t._v("2039/9/7 23:47:35")]),t._v(" 就不能用了，所以这里的 "),s("code",[t._v("timestamp")]),t._v(" 只是相对于某个时间的增量，比如我们的系统上线是 2018-08-01，那么我们可以把这个 timestamp 当作是从 "),s("code",[t._v("2018-08-01 00:00:00.000")]),t._v(" 的偏移量。")]),t._v(" "),s("h2",{attrs:{id:"_6-1-1-worker-id-分配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-worker-id-分配"}},[t._v("#")]),t._v(" 6.1.1 worker_id 分配")]),t._v(" "),s("p",[s("code",[t._v("timestamp")]),t._v("，"),s("code",[t._v("datacenter_id")]),t._v("，"),s("code",[t._v("worker_id")]),t._v(" 和 "),s("code",[t._v("sequence_id")]),t._v(" 这四个字段中，"),s("code",[t._v("timestamp")]),t._v(" 和 "),s("code",[t._v("sequence_id")]),t._v(" 是由程序在运行期生成的。但 "),s("code",[t._v("datacenter_id")]),t._v(" 和 "),s("code",[t._v("worker_id")]),t._v(" 需要我们在部署阶段就能够获取得到，并且一旦程序启动之后，就是不可更改的了（想想，如果可以随意更改，可能被不慎修改，造成最终生成的 id 有冲突）。")]),t._v(" "),s("p",[t._v("一般不同数据中心的机器，会提供对应的获取数据中心 id 的 API，所以 "),s("code",[t._v("datacenter_id")]),t._v(" 我们可以在部署阶段轻松地获取到。而 worker_id 是我们逻辑上给机器分配的一个 id，这个要怎么办呢？比较简单的想法是由能够提供这种自增 id 功能的工具来支持，比如 MySQL:")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" insert into a "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" values"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.1.2.101"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nQuery OK, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row affected "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" last_insert_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+------------------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" last_insert_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+------------------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n+------------------+\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("从 MySQL 中获取到 "),s("code",[t._v("worker_id")]),t._v(" 之后，就把这个 "),s("code",[t._v("worker_id")]),t._v(" 直接持久化到本地，以避免每次上线时都需要获取新的 "),s("code",[t._v("worker_id")]),t._v("。让单实例的 "),s("code",[t._v("worker_id")]),t._v(" 可以始终保持不变。")]),t._v(" "),s("p",[t._v("当然，使用 MySQL 相当于给我们简单的 id 生成服务增加了一个外部依赖。依赖越多，我们的服务的可运维性就越差。")]),t._v(" "),s("p",[t._v("考虑到集群中即使有单个 id 生成服务的实例挂了，也就是损失一段时间的一部分 id，所以我们也可以更简单暴力一些，把 "),s("code",[t._v("worker_id")]),t._v(" 直接写在 worker 的配置中，上线时，由部署脚本完成 "),s("code",[t._v("worker_id")]),t._v(" 字段替换。")]),t._v(" "),s("h2",{attrs:{id:"_6-1-2-开源实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-开源实例"}},[t._v("#")]),t._v(" 6.1.2 开源实例")]),t._v(" "),s("h3",{attrs:{id:"_6-1-2-1-标准-snowflake-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-1-标准-snowflake-实现"}},[t._v("#")]),t._v(" 6.1.2.1 标准 snowflake 实现")]),t._v(" "),s("p",[s("code",[t._v("github.com/bwmarrin/snowflake")]),t._v(" 是一个相当轻量化的 snowflake 的 Go 实现。其文档对各位使用的定义见 "),s("em",[t._v("图 6-2")]),t._v(" 所示。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(343),alt:"ch6-snowflake-easy"}})]),t._v(" "),s("p",[s("em",[t._v("图 6-2 snowflake 库")])]),t._v(" "),s("p",[t._v("和标准的 snowflake 完全一致。使用上比较简单：")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"os"')]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/bwmarrin/snowflake"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" snowflake"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Generate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Node")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"step:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Step")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("当然，这个库也给我们留好了定制的后路，其中预留了一些可定制字段：")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Epoch is set to the twitter snowflake epoch of Nov 04 2010 01:42:54 UTC")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// You may customize this to set a different epoch for your application.")]),t._v("\n\tEpoch "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int64")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1288834974657")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Number of bits to use for Node")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Remember, you have a total 22 bits to share between Node/Step")]),t._v("\n\tNodeBits "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Number of bits to use for Step")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Remember, you have a total 22 bits to share between Node/Step")]),t._v("\n\tStepBits "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint8")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),s("p",[s("code",[t._v("Epoch")]),t._v(" 就是本节开头讲的起始时间，"),s("code",[t._v("NodeBits")]),t._v(" 指的是机器编号的位长，"),s("code",[t._v("StepBits")]),t._v(" 指的是自增序列的位长。")]),t._v(" "),s("h3",{attrs:{id:"_6-1-2-2-sonyflake"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-2-sonyflake"}},[t._v("#")]),t._v(" 6.1.2.2 sonyflake")]),t._v(" "),s("p",[t._v("sonyflake 是 Sony 公司的一个开源项目，基本思路和 snowflake 差不多，不过位分配上稍有不同，见 "),s("em",[t._v("图 6-3")]),t._v("：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(344),alt:"sonyflake"}})]),t._v(" "),s("p",[s("em",[t._v("图 6-3 sonyflake")])]),t._v(" "),s("p",[t._v("这里的时间只用了 39 个 bit，但时间的单位变成了 10ms，所以理论上比 41 位表示的时间还要久 (174 年)。")]),t._v(" "),s("p",[s("code",[t._v("Sequence ID")]),t._v(" 和之前的定义一致，"),s("code",[t._v("Machine ID")]),t._v(" 其实就是节点 id。"),s("code",[t._v("sonyflake")]),t._v(" 与众不同的地方在于其在启动阶段的配置参数：")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewSonyflake")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("st Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("Sonyflake\n")])])]),s("p",[s("code",[t._v("Settings")]),t._v(" 数据结构如下：")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Settings "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tStartTime      time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Time\n\tMachineID      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tCheckMachineID "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("StartTime")]),t._v(" 选项和我们之前的 "),s("code",[t._v("Epoch")]),t._v(" 差不多，如果不设置的话，默认是从 "),s("code",[t._v("2014-09-01 00:00:00 +0000 UTC")]),t._v(" 开始。")]),t._v(" "),s("p",[s("code",[t._v("MachineID")]),t._v(" 可以由用户自定义的函数，如果用户不定义的话，会默认将本机 IP 的低 16 位作为 "),s("code",[t._v("machine id")]),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("CheckMachineID")]),t._v(" 是由用户提供的检查 "),s("code",[t._v("MachineID")]),t._v(" 是否冲突的函数。这里的设计还是比较巧妙的，如果有另外的中心化存储并支持检查重复的存储，那我们就可以按照自己的想法随意定制这个检查 "),s("code",[t._v("MachineID")]),t._v(" 是否冲突的逻辑。如果公司有现成的 Redis 集群，那么我们可以很轻松地用 Redis 的集合类型来检查冲突。")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("redis "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" SADD base64_encoding_of_last16bits "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MzI0Mgo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nredis "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" SADD base64_encoding_of_last16bits "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MzI0Mgo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),s("p",[t._v("使用起来也比较简单，有一些逻辑简单的函数就略去实现了：")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" main\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fmt"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"os"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"time"')]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/sony/sonyflake"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMachineID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" machineID "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),t._v("\n\tmachineID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readMachineIDFromLocalFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" machineID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tmachineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateMachineID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" machineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkMachineID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("machineID "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tsaddResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saddMachineIDToRedisSet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" saddResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\terr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveMachineIDToLocalFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("machineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("_")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2006-01-02"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2018-01-01"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tsettings "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" sonyflake"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tStartTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("      t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tMachineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("      getMachineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tCheckMachineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" checkMachineID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\tsf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" sonyflake"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewSonyflake")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" sf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NextID")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\tos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\tfmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);